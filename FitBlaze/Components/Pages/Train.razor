@page "/Train"
@using DAL
@using ModelClass
@inject NavigationManager NavigationManager



<PageTitle>Train</PageTitle>
<HeadContent>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/CSS/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha384-wvfXpqpZZVQGKKG+8Y8ep5D6xBxUj5e0pzTYIQ/hj6U9lnjQwYP7Mqz8r7aKx4V" crossorigin="anonymous">
       <title style="text-decoration-color: white;">About</title>
    </HeadContent>

 

<body class="text-white bg-dark">
 <!-- Pages/Shared/NavBar.razor -->
    <nav class="navbar navbar-expand-lg bg-danger">
    <div class="container-fluid">
        <div class="navbar-brand mx-auto">
            <NavLink href="/"> <!-- Use NavLink for navigation within Blazor -->
                    <img class="logo1" src="/Fitblaze-logo.png" style="border-radius: 50%;" alt="" />
            </NavLink>
        </div>
        <div class="navbar-collapse">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <NavLink class="nav-link" href="/">Home</NavLink>
                </li>
                <li class="nav-item">
                    <NavLink class="nav-link" href="/Portfolio">Portfolio</NavLink>
                </li>
                <li class="nav-item">
                    <NavLink class="nav-link" href="/About">About</NavLink>

                </li>
                    <li class="nav-item">
                        <NavLink class="nav-link"  style="font-weight: 700; border-bottom: 2px solid yellow;" href="/Train">Train</NavLink>

                    </li>

                <li class="nav-item">
                        <NavLink class="nav-link btn btn-warning btn-warning-custom" href="/About">Contact</NavLink>
                </li>
            </ul>
        </div>
    </div>
</nav>

    <section id="home-5">
        <section style="padding: 5%;" class="bg-dark">
            <section class="container contact py-5">
                <section class="row">
                    <h1 class="centreclass">Sign Up To Start Training</h1>

                    <section class="container col-md-6">
                        <!-- Email input group -->
                        <div class="d-flex justify-content-center">
                            <div class="input-group w-auto">
                                <label for="email" class="visually-hidden">Email:</label>
                                <input type="email"
                                       class="form-control"
                                       placeholder="Your Email"
                                       aria-label="Your Email"
                                       aria-describedby="button-addon1"
                                       id="email"
                                       @bind="email" />
                            </div>
                        </div>

                        <!-- Password input group -->
                        <div class="d-flex justify-content-center mt-3">
                            <div class="input-group w-auto">
                                <label for="password" class="visually-hidden">Password:</label>
                                <input type="password"
                                       class="form-control"
                                       placeholder="Your Password"
                                       aria-label="Your Password"
                                       aria-describedby="button-addon1"
                                       id="password"
                                       @bind="password" />
                            </div>
                        </div>


                         @foreach (var user in users)
                        {
                            if (user.Email == email)
                            {

                                if (user.Password == password)
                                {
                                    idMatched();
                                }
                                else
                                {
                                    <div class="modal fade show" style="display: block;" tabindex="-1" role="dialog">
                                        <div class="modal-dialog" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title">Password Incorrect</h5>
                                                    <button type="button" class="close" @onclick="HidePopup">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <p>Your password is incorrect. Please try again.</p>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" @onclick="HidePopup">Close</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                }

                            }
                            else
                            {
                                <div class="modal fade show" style="display: block;" tabindex="-1" role="dialog">
                                    <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title">Email Incorrect</h5>
                                                <button type="button" class="close" @onclick="HidePopup">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <p>Your email is incorrect. Please try again.</p>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" @onclick="HidePopup">Close</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            }
                        }


                        <!-- Button -->
                        <div class="d-flex justify-content-center mt-3">
                            <div class="btn-wrapper">
                                <a  class="btn btn-warning btn-warning-custom">login</a>
                            </div>
                        </div>
                       


                        <!-- Text below input -->
                        <div class="d-flex justify-content-center mt-3">
                            <p>You don't have an account? <a href="/tests">Sign Up</a></p>
                        </div>
                    </section>
                </section>
            </section>
        </section>
    </section>

   


  
    <section id="port-2" class="bg-danger">
        <section class="prev container">
            <h2 class="py-3">Index</h2>
            <hr>
            <section class="button-container m-3">
                <section class="btn-wrapper">
                    <a href="/Portfolio.razor#port-2" class="btn btn-outline-light btn-sm">Plans</a>
                    <a href="/Portfolio.html#port-4" class="btn btn-outline-light btn-sm">Muscles</a>
                    <a href="/portfolio.html#port-5" class="btn btn-outline-light btn-sm">Reviews</a>
                </section>


            </section>


        </section>
    </section>

    <section id="port-3" class="bg-danger">
        <section class="design container bg-dark">
            <h2 class="py-3"><b>Plans</b></h2>
            <hr>
            <section class="grid-container">
                @foreach (var workout in Workouts)
                {
                    <NavLink href="/Muscle">
                        <section class="card bg-dark">
                            <section class="card-body image-container">
                                <img src="/@($"{workout.PlanImageReference}.jpg")" alt="" class="four-cross">
                                <div class="carousel-caption d-none d-md-block">
                                    <p class="mt-3">@workout.PlanName</p>
                                </div>
                            </section>
                        </section>
                    </NavLink>
                }
            </section>
        </section>
    </section>


    <style>
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            max-width: 100%;
            overflow: hidden;
        }

        .card {
            position: relative;
            overflow: hidden;
            width: 100%;
            height: 100%;
        }

        .card-body {
            position: relative;
            overflow: hidden;
            height: 300px; /* Adjust the height as needed */
        }

            .card-body img {
                max-width: 100%;
                height: auto; /* Maintain the aspect ratio */
                display: block; /* Remove any default spacing issues */
                margin: 0 auto; /* Center the image */
                transition: transform 0.3s ease-in-out;
            }

        .card:hover .card-body img {
            transform: scale(1.1); /* Add a scaling effect on hover */
        }

        .carousel-caption {
            position: absolute;
            bottom: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            text-align: center;
            padding: 5px;
            box-sizing: border-box;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }

        .card:hover .carousel-caption {
            opacity: 1; /* Show caption on hover /*{muscle.MuscleID}*/
            
        }

        .carousel-caption p {
            margin: 0;
        }
    </style>

    <section id="port-4" class="bg-danger">
        <section class="design container bg-dark">
            <h2 class="py-3"><b>Muscles</b></h2>
            <hr>
            <section class="grid-container">
                @foreach (var muscle in muscles)
                {
                    
                    <NavLink href="@($"/Lets_start/{muscle.MuscleID}")">
                        <section class="card bg-dark">
                            <section class="card-body image-container">
                                <img src="/@($"{muscle.MuscleImageReference}.jpg")" alt="" class="four-cross">
                                <div class="carousel-caption d-none d-md-block">
                                    <p class="mt-3">@muscle.MuscleName</p>
                                </div>
                            </section>
                        </section>
                    </NavLink>
                }
            </section>
        </section>
    </section>



    <footer>
        <section class="bg-dark py-3 footer-div">
            <section>
                <a class="navbar-brand" href="#"><img class="logo1" src="/Fitblaze-logo.png" style="border-radius: 50%;"  alt=""></a>
            </section>
            <section class="d-flex align-items-center">

                <p style="color: white; padding-left: 15px; margin-bottom: 0; ">Companyrights FitBlaze 2023</p>
            </section>
            <section class="social-media">
                <img src="/facebook.png" alt="" class="users"> <!--https://www.flaticon.com/free-icon/facebook_747374?term=facebook&page=1&position=8&origin=search&related_id=747374-->
                <img src="/instagram.png" alt="" class="users"><!--https://www.flaticon.com/free-icon/instagram_1384031?term=instagram&page=1&position=5&origin=search&related_id=1384031-->
                <img src="/linkedin.png" alt="" class="users"><!--https://www.flaticon.com/free-icon/linkedin_2582575?term=linked+in&page=1&position=26&origin=search&related_id=2582575-->
            </section>
        </section>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
        <script>
            function scrollToHome4() {
                // Get the target section
                const home4Section = document.getElementById('home-4');

                // Scroll to the target section
                home4Section.scrollIntoView({
                    behavior: 'smooth'
                });
            }
        </script>


    </footer>
</body>
@code {
    private string password { get; set; }
    private string email { get; set; }





    private List<MusclePlanModel> muscles = new List<MusclePlanModel>();
    private List<userModel> users = new List<userModel>();
    private List<WorkoutPlanModel> Workouts = new List<WorkoutPlanModel>();

    public Train()
    {
    }

    protected override void OnInitialized()
    {
        users = User.GetUserInfo();
        muscles = MusclePlanDataAccess.GetMuscles();
        Workouts = WorkoutPlanDataAccess.GetWorkoutPlans();
    }

    public void idMatched()
    {
        NavigationManager.NavigateTo("");

    }
    private bool showPopup = false;

    private void ShowPopup()
    {
        showPopup = true;
    }

    private void HidePopup()
    {
        showPopup = false;
    }
 
}
